# Data Type Migration Checks

## Ingredients
```sql
SELECT reorder_point, protein,carbs,fats,humidity,fiber,ashes,calcium,sodium,phosphorus FROM ingredient;
```
```sql
ALTER TABLE "ingredient" ALTER COLUMN "reorder_point" SET DATA TYPE numeric(20, 4);--> statement-breakpoint
ALTER TABLE "ingredient" ALTER COLUMN "protein" SET DATA TYPE numeric(17, 10);--> statement-breakpoint
ALTER TABLE "ingredient" ALTER COLUMN "carbs" SET DATA TYPE numeric(17, 10);--> statement-breakpoint
ALTER TABLE "ingredient" ALTER COLUMN "fats" SET DATA TYPE numeric(17, 10);--> statement-breakpoint
ALTER TABLE "ingredient" ALTER COLUMN "humidity" SET DATA TYPE numeric(17, 10);--> statement-breakpoint
ALTER TABLE "ingredient" ALTER COLUMN "fiber" SET DATA TYPE numeric(17, 10);--> statement-breakpoint
ALTER TABLE "ingredient" ALTER COLUMN "ashes" SET DATA TYPE numeric(17, 10);--> statement-breakpoint
ALTER TABLE "ingredient" ALTER COLUMN "calcium" SET DATA TYPE numeric(17, 10);--> statement-breakpoint
ALTER TABLE "ingredient" ALTER COLUMN "sodium" SET DATA TYPE numeric(17, 10);--> statement-breakpoint
ALTER TABLE "ingredient" ALTER COLUMN "phosphorus" SET DATA TYPE numeric(17, 10);--> statement-breakpoint
```
 reorder_point | protein | carbs | fats | humidity | fiber | ashes | calcium | sodium | phosphorus
---------------|---------|-------|------|----------|-------|-------|---------|--------|------------
           100 |     5.1 | 73.85 | 0.69 |      6.1 |   7.8 |  6.46 |  0.2088 |      0 |      0.196
            50 |    17.7 |  75.9 |  2.4 |      3.2 |     7 | 16.28 |   0.689 |      0 |      0.258
           150 |    49.2 | 38.29 | 1.53 |     6.74 |  4.24 |  6.96 |  0.2431 |      0 |      0.651
           200 |   22.35 | 65.02 | 1.19 |     8.34 |   3.1 |  2.78 |  0.0565 |      0 |      0.386
           100 |   13.38 | 70.79 | 9.13 |        5 |   1.7 |   1.7 |  0.0715 |      0 |      0.365
           100 |    8.63 | 78.84 | 0.61 |     5.77 |   2.3 |  3.85 |    0.08 |      0 |       0.18
            20 |    0.12 |  85.7 | 0.18 |    12.59 |   1.4 |  0.53 |  0.0767 |      0 |      0.031
             8 |    1.72 | 64.48 |   29 |      3.2 |   1.6 |  1.27 |  0.0337 |      0 |      0.068
             0 |   10.34 | 74.17 | 0.88 |     9.03 |  5.22 |  8.06 |  0.3686 |      0 |       0.03
           100 |      22 |     8 |   25 |        5 |     5 |     5 |       5 |      5 |          5
            50 |       0 |     0 |    0 |        0 |     0 |     0 |       0 |      0 |         18
            50 |   75.25 |  9.57 | 11.9 |      2.7 |  0.58 |  3.59 |  0.0519 |      0 |      0.765
            75 |       0 |     0 |    0 |        0 |     0 |     0 |       0 |      0 |          0
            50 |       0 |     0 |    0 |        0 |     0 |     0 |       0 |      0 |          0
             0 |       0 |     0 |    0 |        0 |     0 |     0 |       0 |      0 |          0
             0 |       0 |     0 |    0 |        0 |     0 |     0 |       0 |      0 |          0
            40 |      56 | 16.06 |   22 |      3.4 |  0.54 |   6.4 |  1.2719 |      0 |      1.305
             0 |      61 |     0 | 33.4 |     3.91 |  0.88 |  1.44 |  1.0789 |      0 |      0.838
            10 |       0 |     0 |  100 |        0 |     0 |     0 |       0 |      0 |          0
            10 |       0 |     0 |    0 |        0 |     0 |     0 |       0 |      0 |          0
             5 |     4.2 |    60 | 1.77 |    24.96 |     9 |  1.06 |  0.0685 |      0 |      0.067
             8 |       1 |     1 |    1 |        1 |     1 |     1 |       1 |      1 |          1
            25 |       1 |     1 |    1 |        1 |     1 |     1 |       1 |      1 |          1
            50 |      35 |     0 |    1 |        8 |     3 |     0 |     0.5 |      0 |       1.07

 reorder_point |    protein    |     carbs     |      fats      |   humidity    |    fiber     |     ashes     |   calcium    |    sodium    |  phosphorus
---------------|---------------|---------------|----------------|---------------|--------------|---------------|--------------|--------------|---------------
      100.0000 |  5.1000000000 | 73.8500000000 |   0.6900000000 |  6.1000000000 | 7.8000000000 |  6.4600000000 | 0.2088000000 | 0.0000000000 |  0.1960000000
       50.0000 | 17.7000000000 | 75.9000000000 |   2.4000000000 |  3.2000000000 | 7.0000000000 | 16.2800000000 | 0.6890000000 | 0.0000000000 |  0.2580000000
      150.0000 | 49.2000000000 | 38.2900000000 |   1.5300000000 |  6.7400000000 | 4.2400000000 |  6.9600000000 | 0.2431000000 | 0.0000000000 |  0.6510000000
      200.0000 | 22.3500000000 | 65.0200000000 |   1.1900000000 |  8.3400000000 | 3.1000000000 |  2.7800000000 | 0.0565000000 | 0.0000000000 |  0.3860000000
      100.0000 | 13.3800000000 | 70.7900000000 |   9.1300000000 |  5.0000000000 | 1.7000000000 |  1.7000000000 | 0.0715000000 | 0.0000000000 |  0.3650000000
      100.0000 |  8.6300000000 | 78.8400000000 |   0.6100000000 |  5.7700000000 | 2.3000000000 |  3.8500000000 | 0.0800000000 | 0.0000000000 |  0.1800000000
       20.0000 |  0.1200000000 | 85.7000000000 |   0.1800000000 | 12.5900000000 | 1.4000000000 |  0.5300000000 | 0.0767000000 | 0.0000000000 |  0.0310000000
        8.0000 |  1.7200000000 | 64.4800000000 |  29.0000000000 |  3.2000000000 | 1.6000000000 |  1.2700000000 | 0.0337000000 | 0.0000000000 |  0.0680000000
        0.0000 | 10.3400000000 | 74.1700000000 |   0.8800000000 |  9.0300000000 | 5.2200000000 |  8.0600000000 | 0.3686000000 | 0.0000000000 |  0.0300000000
      100.0000 | 22.0000000000 |  8.0000000000 |  25.0000000000 |  5.0000000000 | 5.0000000000 |  5.0000000000 | 5.0000000000 | 5.0000000000 |  5.0000000000
       50.0000 |  0.0000000000 |  0.0000000000 |   0.0000000000 |  0.0000000000 | 0.0000000000 |  0.0000000000 | 0.0000000000 | 0.0000000000 | 18.0000000000
       50.0000 | 75.2500000000 |  9.5700000000 |  11.9000000000 |  2.7000000000 | 0.5800000000 |  3.5900000000 | 0.0519000000 | 0.0000000000 |  0.7650000000
       75.0000 |  0.0000000000 |  0.0000000000 |   0.0000000000 |  0.0000000000 | 0.0000000000 |  0.0000000000 | 0.0000000000 | 0.0000000000 |  0.0000000000
       50.0000 |  0.0000000000 |  0.0000000000 |   0.0000000000 |  0.0000000000 | 0.0000000000 |  0.0000000000 | 0.0000000000 | 0.0000000000 |  0.0000000000
        0.0000 |  0.0000000000 |  0.0000000000 |   0.0000000000 |  0.0000000000 | 0.0000000000 |  0.0000000000 | 0.0000000000 | 0.0000000000 |  0.0000000000
        0.0000 |  0.0000000000 |  0.0000000000 |   0.0000000000 |  0.0000000000 | 0.0000000000 |  0.0000000000 | 0.0000000000 | 0.0000000000 |  0.0000000000
       40.0000 | 56.0000000000 | 16.0600000000 |  22.0000000000 |  3.4000000000 | 0.5400000000 |  6.4000000000 | 1.2719000000 | 0.0000000000 |  1.3050000000
        0.0000 | 61.0000000000 |  0.0000000000 |  33.4000000000 |  3.9100000000 | 0.8800000000 |  1.4400000000 | 1.0789000000 | 0.0000000000 |  0.8380000000
       10.0000 |  0.0000000000 |  0.0000000000 | 100.0000000000 |  0.0000000000 | 0.0000000000 |  0.0000000000 | 0.0000000000 | 0.0000000000 |  0.0000000000
       10.0000 |  0.0000000000 |  0.0000000000 |   0.0000000000 |  0.0000000000 | 0.0000000000 |  0.0000000000 | 0.0000000000 | 0.0000000000 |  0.0000000000
        5.0000 |  4.2000000000 | 60.0000000000 |   1.7700000000 | 24.9600000000 | 9.0000000000 |  1.0600000000 | 0.0685000000 | 0.0000000000 |  0.0670000000
        8.0000 |  1.0000000000 |  1.0000000000 |   1.0000000000 |  1.0000000000 | 1.0000000000 |  1.0000000000 | 1.0000000000 | 1.0000000000 |  1.0000000000
       25.0000 |  1.0000000000 |  1.0000000000 |   1.0000000000 |  1.0000000000 | 1.0000000000 |  1.0000000000 | 1.0000000000 | 1.0000000000 |  1.0000000000
       50.0000 | 35.0000000000 |  0.0000000000 |   1.0000000000 |  8.0000000000 | 3.0000000000 |  0.0000000000 | 0.5000000000 | 0.0000000000 |  1.0700000000


## Ingredient Batch
```sql
SELECT full_amount,cost,iva_tax_percentage,withdrawal_tax_amount,adjustment FROM ingredient_batch;
```
```sql
ALTER TABLE "ingredient_batch" ALTER COLUMN "full_amount" SET DATA TYPE numeric(20, 4);--> statement-breakpoint
ALTER TABLE "ingredient_batch" ALTER COLUMN "cost" SET DATA TYPE numeric(30, 2);--> statement-breakpoint
ALTER TABLE "ingredient_batch" ALTER COLUMN "iva_tax_percentage" SET DATA TYPE numeric(10, 4);--> statement-breakpoint
ALTER TABLE "ingredient_batch" ALTER COLUMN "withdrawal_tax_amount" SET DATA TYPE numeric(30, 2);--> statement-breakpoint
ALTER TABLE "ingredient_batch" ALTER COLUMN "adjustment" SET DATA TYPE numeric(20, 4);--> statement-breakpoint
```
 full_amount |     cost      | iva_tax_percentage | withdrawal_tax_amount | adjustment
-------------|---------------|--------------------|-----------------------|------------
          40 |        150030 |               0.21 |                     0 |         -1
         600 |        407400 |                  0 |                     0 |
         425 |        288575 |                  0 |                     0 |
         925 |        834272 |                  0 |                     0 |
         350 |     1.575e|06 |                  0 |                     0 |
         420 |     2.184e|06 |                  0 |                     0 |
         700 |      3.64e|06 |                  0 |                     0 |
          20 |         20000 |                  0 |                     0 |        1.1
         600 |        575190 |               0.21 |                     0 |        -92
          75 |         50925 |                  0 |                     0 |         15
         150 |          5416 |               0.21 |                     0 |          7
        2000 |        380600 |               0.21 |                     0 |      -1688
         200 | 1.0574928e|06 |               0.21 |                     0 |      -2.25
         600 |   2.23428e|06 |               0.21 |                     0 |        -55
          75 |        390000 |                  0 |                     0 |      -10.2
         180 | 1.0600974e|06 |               0.21 |                     0 |
         180 |  1.059696e|06 |                  0 |                     0 |
       18.35 |          0.01 |                  0 |                     0 |
          24 |          0.01 |                  0 |                     0 |
        26.5 |          0.01 |                  0 |                     0 |
        29.8 |           0.1 |                  0 |                     0 |
          41 |          0.01 |                  0 |                     0 |
        37.7 |          0.01 |                  0 |                     0 |
          31 |          0.01 |                  0 |                     0 |
        27.2 |        190400 |                  0 |                     0 |        0.7
          40 |        400000 |                  0 |                     0 |       0.75
         8.9 |          0.01 |                  0 |                     0 |
        20.2 |          0.01 |                  0 |                     0 |
         125 |        293750 |                  0 |                     0 |         12
        25.4 |          0.01 |                  0 |                     0 |
        25.8 |           0.1 |                  0 |                     0 |
        34.1 |          0.01 |                  0 |                     0 |
         100 |        187480 |               0.21 |                     0 |
          25 |        212500 |                  0 |                     0 |
         2.8 |         24225 |                  0 |                     0 |      2.451
        51.6 |      62181.82 |               0.21 |                     0 |
          37 |             1 |                  0 |                     0 |
          20 |             1 |                  0 |                     0 |

 full_amount |    cost    | iva_tax_percentage | withdrawal_tax_amount | adjustment
-------------|------------|--------------------|-----------------------|------------
     40.0000 |  150030.00 |             0.2100 |                  0.00 |    -1.0000
    600.0000 |  407400.00 |             0.0000 |                  0.00 |
    425.0000 |  288575.00 |             0.0000 |                  0.00 |
    925.0000 |  834272.00 |             0.0000 |                  0.00 |
    350.0000 | 1575000.00 |             0.0000 |                  0.00 |
    420.0000 | 2184000.00 |             0.0000 |                  0.00 |
    700.0000 | 3640000.00 |             0.0000 |                  0.00 |
     20.0000 |   20000.00 |             0.0000 |                  0.00 |     1.1000
    600.0000 |  575190.00 |             0.2100 |                  0.00 |   -92.0000
     75.0000 |   50925.00 |             0.0000 |                  0.00 |    15.0000
    150.0000 |    5416.00 |             0.2100 |                  0.00 |     7.0000
   2000.0000 |  380600.00 |             0.2100 |                  0.00 | -1688.0000
    200.0000 | 1057490.00 |             0.2100 |                  0.00 |    -2.2500
    600.0000 | 2234280.00 |             0.2100 |                  0.00 |   -55.0000
     75.0000 |  390000.00 |             0.0000 |                  0.00 |   -10.2000
    180.0000 | 1060100.00 |             0.2100 |                  0.00 |
    180.0000 | 1059700.00 |             0.0000 |                  0.00 |
     18.3500 |       0.01 |             0.0000 |                  0.00 |
     24.0000 |       0.01 |             0.0000 |                  0.00 |
     26.5000 |       0.01 |             0.0000 |                  0.00 |
     29.8000 |       0.10 |             0.0000 |                  0.00 |
     41.0000 |       0.01 |             0.0000 |                  0.00 |
     37.7000 |       0.01 |             0.0000 |                  0.00 |
     31.0000 |       0.01 |             0.0000 |                  0.00 |
     27.2000 |  190400.00 |             0.0000 |                  0.00 |     0.7000
     40.0000 |  400000.00 |             0.0000 |                  0.00 |     0.7500
      8.9000 |       0.01 |             0.0000 |                  0.00 |
     20.2000 |       0.01 |             0.0000 |                  0.00 |
    125.0000 |  293750.00 |             0.0000 |                  0.00 |    12.0000
     25.4000 |       0.01 |             0.0000 |                  0.00 |
     25.8000 |       0.10 |             0.0000 |                  0.00 |
     34.1000 |       0.01 |             0.0000 |                  0.00 |
    100.0000 |  187480.00 |             0.2100 |                  0.00 |
     25.0000 |  212500.00 |             0.0000 |                  0.00 |
      2.8000 |   24225.00 |             0.0000 |                  0.00 |     2.4510
     51.6000 |   62181.80 |             0.2100 |                  0.00 |
     37.0000 |       1.00 |             0.0000 |                  0.00 |
     20.0000 |       1.00 |             0.0000 |                  0.00 |


## Ingredient Entry
```sql
SELECT total_cost FROM ingridient_entry
```
```sql
ALTER TABLE "ingridient_entry" ALTER COLUMN "total_cost" SET DATA TYPE numeric(30, 2);--> statement-breakpoint
```
There is no data is this column


## Product Batch
```sql
SELECT full_amount, adjustment FROM product_batch;
```
```sql
ALTER TABLE "product_batch" ALTER COLUMN "full_amount" SET DATA TYPE numeric(20, 4);--> statement-breakpoint
ALTER TABLE "product_batch" ALTER COLUMN "adjustment" SET DATA TYPE numeric(20, 4);--> statement-breakpoint
```
 full_amount | adjustment
-------------|------------
         150 |     -11.85
         150 |

 full_amount | adjustment
-------------|------------
    150.0000 |   -11.8500
    150.0000 |


## Ingredient Batch <> Ingredient Batch
```sql
SELECT amount_used FROM r_ingredient_batch_ingredient_batch;
```
```sql
ALTER TABLE "r_ingredient_batch_ingredient_batch" ALTER COLUMN "amount_used" SET DATA TYPE numeric(20, 4);--> statement-breakpoint
```
There are not row in this table


## Ingredient <> Ingredient
```sql
SELECT amount FROM r_ingredient_ingredient;
```
```sql
ALTER TABLE "r_ingredient_ingredient" ALTER COLUMN "amount" SET DATA TYPE numeric(17, 10);--> statement-breakpoint
```
 amount
--------
      5
      5
      5

    amount
--------------
 5.0000000000
 5.0000000000
 5.0000000000


## Ingredient <> Product
```sql
SELECT amount FROM r_ingredient_product;
```
```sql
ALTER TABLE "r_ingredient_product" ALTER COLUMN "amount" SET DATA TYPE numeric(17, 10);--> statement-breakpoint
```
 amount
--------
    1.5
  0.267
    0.2
   0.17
  0.081
  0.047
  0.035
   0.02
  0.015
  0.015
   0.04
  0.036
   0.02
  0.004
   0.02

    amount
--------------
 1.5000000000
 0.2670000000
 0.2000000000
 0.1700000000
 0.0810000000
 0.0470000000
 0.0350000000
 0.0200000000
 0.0150000000
 0.0150000000
 0.0400000000
 0.0360000000
 0.0200000000
 0.0040000000
 0.0200000000


## Product Batch <> Ingredient Batch
```sql
SELECT amount_used FROM r_product_batch_ingredient_batch;
```
```sql
ALTER TABLE "r_product_batch_ingredient_batch" ALTER COLUMN "amount_used" SET DATA TYPE numeric(20, 4);
```
 amount_used
--------------
         7.05
            3
        40.05
         2.25
        12.15
         2.25
          5.4
        18.35
        11.65
            3
         25.5
            3
         5.25
          0.6
            6
         7.05
            3
        40.05
         2.25
        12.15
         2.25
          5.4
        12.35
        17.65
            3
          5.5
           20
            3
 0.0009999275
        5.249
          0.6
            6


 amount_used
-------------
      7.0500
      3.0000
     40.0500
      2.2500
     12.1500
      2.2500
      5.4000
     18.3500
     11.6500
      3.0000
     25.5000
      3.0000
      5.2500
      0.6000
      6.0000
      7.0500
      3.0000
     40.0500
      2.2500
     12.1500
      2.2500
      5.4000
     12.3500
     17.6500
      3.0000
      5.5000
     20.0000
      3.0000
      0.0010
      5.2490
      0.6000
      6.0000


